package com.xwc.open.example;import com.xwc.open.example.dao.OrgMapper;import com.xwc.open.example.entity.Org;import org.junit.Assert;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringRunner;import java.util.ArrayList;/** * 创建人：徐卫超 * 时间：2019/8/3 15:58 * 功能：测试基本的增删改查功能 * 备注： */@RunWith(SpringRunner.class)@SpringBootTest(classes = Application.class)public class TestCRUD {    @Autowired    private OrgMapper orgMapper;    @Test    public void testPrimaryKeySelect() {        Org org = orgMapper.selectKey("200");        System.out.println("EasyBatis查询结果: " + org.toString());        Assert.assertNotEquals(org,null);        /**         ==>  Preparing: SELECT code, name, parent_code, parent_name, address, employees_num FROM t_org WHERE code = ?         ==> Parameters: 200(String)         <==    Columns: code, name, parent_code, parent_name, address, employees_num         <==        Row: 200, 2234234, null, EasyBatis, 中国区域, 100         <==      Total: 1         */    }    @Test    public void testInsertCutomeId() {        Org org = new Org();        org.setCode("200009");        org.setName("武汉二公司");        org.setParentName("总公司");        org.setParentCode("200");        org.setAddress("武汉江汉区");        Long count = orgMapper.insert(org);        System.out.println("影响的记录条数: " + count);        Assert.assertEquals(count,new Long(1));        Org dbOrg = orgMapper.selectKey("200009");        System.out.println("EasyBatis查询结果: " + dbOrg.toString());        Assert.assertNotEquals(dbOrg,null);        orgMapper.delete("200009");    }    @Test    public void testDeleteByPrimaryKey() {        Org org = new Org();        org.setCode("200009");        org.setName("武汉三公司");        org.setParentName("总公司");        org.setParentCode("200");        org.setAddress("武汉江汉区");        Long insertCount = orgMapper.insert(org);        Long delCount = orgMapper.delete("200009");        System.out.println("影响的记录条数: " + delCount);        Assert.assertEquals(insertCount,delCount);        Org dbOrg = orgMapper.selectKey("200009");        Assert.assertEquals(dbOrg,null);    }    @Test    public void testUpdateByPrimaryKey() {        Org org = new Org();        org.setCode("200009");        org.setName("武汉二公司");        org.setParentName("总公司");        org.setParentCode("200");        org.setAddress("武汉江汉区");        orgMapper.insert(org);        org.setName("武汉二公司修该");        Long count = orgMapper.update(org);        System.out.println("影响的记录条数: " + count);        Org dbOrg = orgMapper.selectKey("200009");        System.out.println("EasyBatis修改数据结果: " + org.toString());        Assert.assertEquals(org.getName(),dbOrg.getName());        orgMapper.delete("200009");    }    @Test    public void testInsertBatchCutomeId() {        orgMapper.delete("200006");        orgMapper.delete("200007");        orgMapper.delete("200008");        ArrayList<Org> list = new ArrayList<>();        Org org = new Org();        org.setCode("200006");        org.setName("武汉三公司");        org.setParentName("总公司");        org.setParentCode("200");        org.setAddress("武汉江汉区");        list.add(org);        org = new Org();        org.setCode("200007");        org.setName("武汉四公司");        org.setParentName("总公司");        org.setParentCode("200");        org.setAddress("武汉江汉区");        list.add(org);        org = new Org();        org.setCode("200008");        org.setName("武汉五公司");        org.setParentName("总公司");        org.setParentCode("200");        org.setAddress("武汉江汉区");        list.add(org);        Long count = orgMapper.insertBatch(list);        System.out.println("影响的记录条数: " + count);        Assert.assertEquals(count,new Long(3));    }}